<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ceshi</title>
</head>
<body>
<h1><strong>这是测试标题</strong></h1>
<p> Continuation表示一个运算在其指定位置的剩余部分。当Continuation作为语言的第一类（First-class）对象时，可用于实现多种控制结构。同样作为控制结构，First-class
    continuation的表达力比协程更加强大，而且有着明确定义的语义，以至于在它出现之后对协程的研究就几乎完全停止了。但后来Revisiting Coroutines中证明了完全协程与One-shot
    continuation的表达力是完全相同的，而且协程更容易理解和使用，在某些情况下也更加高效。

    理解Continuation
    Continuation是一种描述程序的控制状态的抽象，它用一个数据结构来表示一个执行到指定位置的计算过程；这个数据结构可以由程序语言访问而不是隐藏在运行时环境中。Continuation在生成之后可作为控制结构使用，在调用时会从它所表示的控制点处恢复执行。

    注意Continuation所保存的控制状态中并不包括数据。关于这一点有个很有趣的“Continuation三明治”的描述：

    假设你在厨房里的冰箱前面，正打算做<pre><small><small><small><small>一个三 明
        治</small></small></small></small></pre>。<br/>这时你获取一个Continuation放进兜里。然后从冰箱拿了些火鸡和面包做了个三明治，放在了桌子上。现在调用兜里的那个Continuation，你会发现你又站在了冰箱前，正打算做个三明治。但这时桌子上已经有个三明治了，而且火鸡和面包也不见了。于是你吃掉了三明治。

    Continuation以及与相关的call/cc（Call-with-current-continuation）、CPS（Continuation-passing
    style）这几个概念比较难理解也容易混淆，要彻底把它们搞明白还真得花一番功夫。Continuation的资料也不多，这里列出几篇中文资料供参考：

    从Continuation概念说到它在开发中的应用，这篇文章对Continuation的实现和CPS讲解得非常清楚。
    Continuations Made Simple and Illustrated，早年Python社区的讨论，有中文翻译简介延续“Continuation”。
    尾递归与Continuation，老赵（@jeffz_cn）在C#中使用CPS的演示。
    First-class continuation
    Continuation这个术语很多时候也用于表示First-class continuation。这时它表示一种语言构造，使语言可以在任意点保存执行状态并且在之后的某个点返回。这里与协程做比较的正是First-class
    continuation（或者说是call/cc机制），而不是Continuation结构或CPS编程风格。

    调用call/cc时，会把当前Continuation打包成一个第一类对象。然后这个捕获的Continuation被传给call/cc的参数——此参数必须是带一个参数的过程。如果在这个过程中没有调用Continuation就返回了，则返回值作为call/cc的值。如果在其中调用了Continuation并传给它一个值，则这个值立即返回到call/cc处。

    基于First-class continuation很容易实现完全协程，主要思路是在切换协程时保存当前Continuation并调用目标协程的Continuation。以下是由Marc De Scheemaecker基于Ruby
    call/cc实现的完全对称协程：
</p>
</body>
</html>